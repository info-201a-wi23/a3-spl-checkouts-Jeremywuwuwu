---
title: "A3: SPL Library Checkouts"
output: html_document
---

### Introduction

An introduction of the data and a description of the trends/books/items you are choosing to analyze (and why!)

This dataset as mentioned in the instructions is huge. This dataset is generated by the Seattle Public Library, and it records the usage whether it's physical or digital books, the checkout type based on the vendor tools, material type which shows what sort of books/materials are checked out, the checkout year and month and the number of checkouts. I will be analyzing the dataset with items checked out at least 10 times a month from 2017-2023, because I think it is interesting to know what the most popular books are in Seattle based on the number of checkout rates, and to identify the specific material type. I will also analyze patterns of checkouts based on Publication Years and the Material Types. 

### Summary Information

Write a summary paragraph of findings that includes the 5 values calculated from your summary information R script

Based on the 6 values I calculated, I identified 5 main questions I am interested in. Firstly, by calculating the average number of checkouts for Physical and Digital books, I get to see what the most popular usage class is in Seattle library. Based on my calculations, I figured that the average number of checkouts for Digital books (25.4) exceeds the number of Physical books(22) which is very interesting because we are now seeing a shift in booktypes people prefer to read on, and the society is slowly changing to information technology systems such as digital books. Then, I figured out which subject is the most popular or least popular based on the maximum and minimum number of checkouts. I found that the most popular subject is "African American Nonfiction, Politics, Sociology". However, there are duplicates/multiple least number of checkouts, thus, there are a lot of subjects that only has 10 checkouts which is the minimum. Lastly, I identified the number of material types there are so I get a deeper understanding on the usageclass (physical or digital), but in this case, the form of information resource such as books, magazines... I then figured out how many material types that experienced more than 50 checkouts which is double Horizon and Zinio to see their popularity. Overall, this gives me an understanding of which material types are more popular for the Seattle general public than others. 

### The Dataset

- Who collected/published the data?  
The Seattle Public Library 
- What are the parameters of the data (dates, number of checkouts, kinds of books, etc.)?
Usage class, Checkout type, Material Type, Checkout Year, Checkout Month, Checkouts, and Title of material
- How was the data collected or generated?  
Monthly count of Seattle Library Checkouts electronically and physically. The dataset also begins in 2005. 
- Why was the data collected?  
Based on the website, they mention the data for the purpose of increasing the quality of life for our residents; increasing transparency, accountability and comparability; promoting economic development and research; and improving internal performance management.
- What, if any, ethical questions do you need to consider when working with this data?  
In my opinion, the ethical issues for this data is not that prominent. I understand that some people might not like a breach of their privacy, and by counting and putting down their share of data for the Seattle Public Library wiuthout their consent could be brought up upon, but the data is fully annonymous. At the same time, there are so much data in the server that no one can be identified. On top of that, the number of checkout for each book is relatively large so no one will be singled out; thus, this breach of privacy is so minor. 
- What are possible limitations or problems with this data?   (at least 200 words)
The Publication Year data is kind of scewed and messed up. There are years with brackets, with dots, and no dots so a problem with this data is to include all publication years by detecting the extra expressions. On top of that, another limitation is the lack of numerical data compared to the other data they have. I feel like the subjects should be grouped easier than it is right now. Rather than a long description of the subject, the Seattle Public Library should have generated multiple categories of data and leave it as it is. For example, nonfiction should just stay as nonfiction instead of adding a description of the nonfiction book it is. This would help make the data more accessible for us to analyze and generate graphs. Lastly, I think an additional limitation to this data is how large and broad it is. In this sense, the data is not really clean and clear. There are a lot of random punctuations in the dataset following along the data, and the tables aren't clean. There are commas after some of the data in the Publisher column making it quite messy. The commas also make it mandatory for us to include when we are trying to filter or summarize for the Publisher column. Overall, this data is great to see and very rare, but there are indeed some problems with it that can be fixed so it becomes an even better dataset. 

### First Trends Over Time Chart

Include a chart. Make sure to describe why you included the chart, and what patterns emerged

The first chart that you will create and include will show the trend over time of your variable/topic/interest. Think carefully about what you want to communicate to your user (you may have to find relevant trends in the dataset first!). Here are some requirements to help guide your design:

- Show more than one, but fewer than ~10 trends
  - For example, two books, or 5 different mediums
- You must have clear x and y axis labels
- The chart needs a clear title 
- You need a legend for your different line colors and a clear - legend title
In your .Rmd file, make sure to describe why you included the chart, and what patterns emerged

When we say "clear" or "human readable" titles and labels, that means that you should not just display the variable name.

Here's an example of how to run an R script inside an RMarkdown file:

``````{r, echo = FALSE, warning = FALSE}
source("chart1.R", local = knitr::knit_global())

#Linegraph 1
ggplot(data = sumofcheckouts) +
  geom_line(mapping = aes(x=CheckoutYear, y = median_checkouts))+
  labs(title = "Median Checkouts", subtitle = "Per Material Type", caption = "the median number of checkouts per material type")+
  scale_y_continuous(labels = label_number_si()) +
  scale_color_brewer(palette = "Set2")
```

Graph 1 is a line graph that measures the trend number of checkouts according to the checkout year. However, this is not just any ordinary number of checkouts, but this is the median number of checkouts per checkout year. The checkout year acts as the time in this graph as we determine the pattern of the median number of checkouts per year. Based on the graph, we can identify that 2019 had the highest median number of checkouts, which we can generalize as the highest number of checkouts in its Checkout Year. 

### Second Trends Over Time Chart

Include a chart. Make sure to describe why you included the chart, and what patterns emerged

The second chart that you will create and include will show another trend over time of your variable/topic/interest. Think carefully about what you want to communicate to your user (you may have to find relevant trends in the dataset first!). Here are some requirements to help guide your design:

- Show more than one, but fewer than ~10 trends
  - For example, two books, or 5 different mediums
- You must have clear x and y axis labels
- The chart needs a clear title 
- You need a legend for your different line colors and a clear - legend title
In your .Rmd file, make sure to describe why you included the chart, and what patterns emerged

When we say "clear" or "human readable" titles and labels, that means that you should not just display the variable name.

Here's an example of how to run an R script inside an RMarkdown file:

``````{r, echo = FALSE, warning = FALSE}
source("Chart2.R", local = knitr::knit_global())

#Linegraph 2 
ggplot(data = physical_publication)+
  geom_line(mapping = aes(x = PublicationYear, y = Checkouts, color = Checkouts)) +
  facet_wrap(~PublicationYear)+
  labs(title = "Publication Year vs Checkouts", subtitle = "The number of checkouts for all Physical Books between 2020, 2021, and 2022")
```

Graph 2 is also a line graph that measures the pattern between the publication. year and the number of checkouts. As we can see, chart 2's dataset is arranged from most number of checkouts to the least number of checkouts, and each publication year is seperated into its own graph to see a better visualization of the chart. Graph 2 also only incorporates Physical materials, and it shows the total number of checkouts per Publication Year. 

### Your Choice

The last chart is up to you. It could be a line plot, scatter plot, histogram, bar plot, stacked bar plot, and more. Here are some requirements to help guide your design:

- You must have clear x and y axis labels
- The chart needs a clear title 
- You need a legend for your different line colors and a clear legend title

Here's an example of how to run an R script inside an RMarkdown file:

``````{r, echo = FALSE, warning = FALSE}
source("Chart3.R", local = knitr::knit_global())

#Bargraph input
ggplot(data = Comedy) +
  geom_col(aes(x = Publisher, y = Checkouts, fill = Publisher))+
  labs(title = "Sony Pictures or Warner Homes?", subtitle = "The total number of checkouts for each publisher", caption = "visualization of how the two powerhouse publishers differ in terms of Checkouts")+
  scale_y_continuous(labels = label_number_si()) 
```

Graph 3 is probably my favourite graph out of all. It is a bar graph that measures the difference in checkouts between two of the largest publishers (Sony and Warner Homes). Based on the graph, we can see that Sony Pictures is still more popular than Warner Home materials in terms of the number of checkouts. We can also see that the number of checkouts are abbreviated in terms of its scale so its easier to read. 

